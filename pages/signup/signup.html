<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>login</title>
    <link rel="stylesheet" href="signup.css" />
  </head>
  <body>
    <h1 id="akri"><b>AKRI</b></h1>
    <div class="data">
      <form action="https://akri-backend.onrender.com/submitForm" method="post">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          name="name"
          placeholder="Enter your Name"
          required
        />
        <label for="house_name">House Name/No</label>
        <input
          type="text"
          id="house_name"
          name="house_name"
          placeholder="Enter your House Name/No"
          required
        />
        <label for="locality">Locality</label>
        <input
          type="text"
          id="locality"
          name="locality"
          placeholder="Enter your locality"
          required
        />
        <label for="panchayath">Panchayath/Municipality/Coropration</label>
        <input
          type="text"
          id="panchayath"
          name="panchayath"
          placeholder="Enter your Panchayath/Municipality/Coropration"
          required
        />
        <label for="city">City</label>
        <input
          type="text"
          id="city"
          name="city"
          placeholder="Enter your City"
          required
        />
        <label for="district">District</label>
        <input
          type="text"
          id="district"
          name="district"
          placeholder="Enter your District"
          required
        />
        <label for="state">State</label>
        <input
          type="text"
          id="state"
          name="state"
          placeholder="Enter your state"
          required
        />
        <div id="root"></div>

        <button  id="next"  onclick="submitForm()" >Submit</button>
        </div>
      </form>
    </div>

<!--SCRIPT-->
<script>
  async function submitForm() {
    try {
      const formData = gatherFormData(); 

      const response = await fetch('https://your-backend-service.onrender.com/submitForm', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData),
      });

      if (response.ok) {
        const responseData = await response.json();
        handleSuccessRedirect(responseData.redirectTo);
      } else {
        handleFormSubmissionError();
      }
    } catch (error) {
      console.error('Error submitting form:', error);
      // Handle unexpected errors, show an error message, etc.
    }
  }

  function gatherFormData() {
    // Implement this function to gather form data and return it as an object
    return {
      field1: document.getElementById('field1').value,
      field2: document.getElementById('field2').value,
      // Add more fields as needed
    };
  }

  function handleSuccessRedirect(redirectTo) {
    window.location.href = redirectTo;
  }

  function handleFormSubmissionError() {
    console.error('Error submitting form');
    // Handle specific form submission errors, show an error message, etc.
  }
</script>


  </body>
</html>
